\hypertarget{classUNIONCELL}{}\section{U\+N\+I\+O\+N\+C\+E\+L\+L Class Reference}
\label{classUNIONCELL}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}


cell의 기본 형태를 상속하고 M\+I\+S\+O의 형태를 갖고 있는 union cell이다. (processing cell이 아니다.) M\+I\+S\+O의 형태를 갖는다.  




{\ttfamily \#include $<$U\+N\+I\+O\+N\+C\+E\+L\+L.\+h$>$}



Inheritance diagram for U\+N\+I\+O\+N\+C\+E\+L\+L\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=154pt]{classUNIONCELL__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for U\+N\+I\+O\+N\+C\+E\+L\+L\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{classUNIONCELL__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classUNIONCELL_ad0a662c44a37238e6f948d2481a0438a}{U\+N\+I\+O\+N\+C\+E\+L\+L} (list$<$ \hyperlink{classPIPE}{P\+I\+P\+E} $\ast$ $>$ $\ast$inpipelist, uint dominantpipeid, list$<$ \hyperlink{classPIPE}{P\+I\+P\+E} $\ast$ $>$ $\ast$outpipelist, ushort count, \hyperlink{classSTREAMFACTORY}{S\+T\+R\+E\+A\+M\+F\+A\+C\+T\+O\+R\+Y} $\ast$parent, uint union\+\_\+policy)
\begin{DoxyCompactList}\small\item\em unioncell을 만드는 생성자. 코드세그먼트는 framework 내부적으로 정의되어 있는 것을 이용한다. \end{DoxyCompactList}\item 
virtual void \hyperlink{classUNIONCELL_ac57cb2a3f83bf219133a9d942c24f5aa}{make\+Worker} ()
\begin{DoxyCompactList}\small\item\em 워커를 만든다. \end{DoxyCompactList}\item 
virtual void $\ast$ \hyperlink{classUNIONCELL_a0179dad91d30e7bca318bb7e3b4a4995}{scheduling} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em 만든 워커를 실제로 스케줄링 하는 함수 \end{DoxyCompactList}\item 
list$<$ \hyperlink{classPIPE}{P\+I\+P\+E} $\ast$ $>$ $\ast$ \hyperlink{classUNIONCELL_a23ad55db09a70ba74f2fcf630def1c3f}{getinpipelist} ()
\begin{DoxyCompactList}\small\item\em cell에 연결된 inpipe list를 반환하는 함수 \end{DoxyCompactList}\item 
M\+E\+R\+G\+E\+\_\+\+F\+U\+N\+C \hyperlink{classUNIONCELL_a3ac189ca39d6445213365cadf9e21726}{getfunc} ()
\begin{DoxyCompactList}\small\item\em 코드 세그먼트를 반환하는 함수 \end{DoxyCompactList}\item 
pthread\+\_\+mutex\+\_\+t $\ast$ \hyperlink{classUNIONCELL_a42d955ed8ce559f41bd4837eda14a4ee}{getpipelock} ()
\begin{DoxyCompactList}\small\item\em input pipe들의 락을 반환하는 함수 \end{DoxyCompactList}\item 
uint \hyperlink{classUNIONCELL_abb9d6890717720d1472a97a8122beee1}{getdominantpipeid} ()
\begin{DoxyCompactList}\small\item\em dominantpipeid를 반환받는다. \end{DoxyCompactList}\item 
uint \hyperlink{classUNIONCELL_aac0488cf7d003881e4cfa45ce2055e36}{get\+Union\+Policy} ()
\begin{DoxyCompactList}\small\item\em union policy를 받는다. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
cell의 기본 형태를 상속하고 M\+I\+S\+O의 형태를 갖고 있는 union cell이다. (processing cell이 아니다.) M\+I\+S\+O의 형태를 갖는다. 

cell의 기본 형태를 상속하고 M\+I\+S\+O의 형태를 갖고 있는 union cell이다. (processing cell이 아니다.) M\+I\+S\+O의 형태를 갖는다. 단순히 두개 이상의 튜플을 합쳐준다. 예를들어 하나의 튜플은 \mbox{[}int, char\mbox{]} 데이터를 갖고 있고 다른 하나의 튜플은 \mbox{[}char, char\mbox{]}를 갖고 있으면 합쳐지면 \mbox{[}int, char, char, char\mbox{]}의 튜플을 갖게 된다. \begin{DoxyAuthor}{Author}
ysmoon 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2016-\/11-\/08 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
0.\+0.\+1 
\end{DoxyVersion}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classUNIONCELL_ad0a662c44a37238e6f948d2481a0438a}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{U\+N\+I\+O\+N\+C\+E\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}U\+N\+I\+O\+N\+C\+E\+L\+L\+::\+U\+N\+I\+O\+N\+C\+E\+L\+L (
\begin{DoxyParamCaption}
\item[{list$<$ {\bf P\+I\+P\+E} $\ast$ $>$ $\ast$}]{inpipelist, }
\item[{uint}]{dominantpipeid, }
\item[{list$<$ {\bf P\+I\+P\+E} $\ast$ $>$ $\ast$}]{outpipelist, }
\item[{ushort}]{count, }
\item[{{\bf S\+T\+R\+E\+A\+M\+F\+A\+C\+T\+O\+R\+Y} $\ast$}]{parent, }
\item[{uint}]{union\+\_\+policy}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_ad0a662c44a37238e6f948d2481a0438a}


unioncell을 만드는 생성자. 코드세그먼트는 framework 내부적으로 정의되어 있는 것을 이용한다. 

unioncell을 만드는 생성자. 코드세그먼트는 framework 내부적으로 정의되어 있는 것을 이용한다. 
\begin{DoxyParams}{Parameters}
{\em inpipelist} & cell에 대한 input pipe list이다. 깊은 복사로 넘어간다. 이후 파라미터로 들어온것은 필요 없으면 메모리 해제 해야 한다. \\
\hline
{\em dominantpipeid} & 두개 이상의 튜플을 합칠 때, 결과 튜플의 속성에 어떤 파이프에 있던 튜플 속성을 합칠 지 정의한다. 예를들어 1번파이프와 2번파이프가 연결되어 있고 dominantpipeid가 1번 파이프로 지정되면, 결과튜플은 항상 1번 파이프의 속성을 갖는다. \\
\hline
{\em outpipe} & cell에 대한 단일 output pipe이다. \\
\hline
{\em count} & cell에 들어있는 worker의 개수를 정의한다. worker는 단순히 두개 이상의 튜플을 합치는 일을 한다. \\
\hline
{\em parent} & cell이 속한 factory를 명시한다. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classUNIONCELL_abb9d6890717720d1472a97a8122beee1}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!getdominantpipeid@{getdominantpipeid}}
\index{getdominantpipeid@{getdominantpipeid}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{getdominantpipeid}]{\setlength{\rightskip}{0pt plus 5cm}uint U\+N\+I\+O\+N\+C\+E\+L\+L\+::getdominantpipeid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_abb9d6890717720d1472a97a8122beee1}


dominantpipeid를 반환받는다. 

dominantpipeid를 반환받는다. dominantpipeid는 두개 이상의 튜플을 합칠 때, 결과 튜플의 속성에 어떤 파이프에 있던 튜플 속성을 합칠 지 정의한다. 예를들어 1번파이프와 2번파이프가 연결되어 있고 dominantpipeid가 1번 파이프로 지정되면, 결과튜플은 항상 1번 파이프의 속성을 갖는다. \begin{DoxyReturn}{Returns}
dominantpipeid 
\end{DoxyReturn}
\hypertarget{classUNIONCELL_a3ac189ca39d6445213365cadf9e21726}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!getfunc@{getfunc}}
\index{getfunc@{getfunc}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{getfunc}]{\setlength{\rightskip}{0pt plus 5cm}M\+E\+R\+G\+E\+\_\+\+F\+U\+N\+C U\+N\+I\+O\+N\+C\+E\+L\+L\+::getfunc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_a3ac189ca39d6445213365cadf9e21726}


코드 세그먼트를 반환하는 함수 

코드 세그먼트를 반환하는 함수. \begin{DoxyReturn}{Returns}
M\+E\+R\+G\+E\+\_\+\+F\+U\+N\+C로, T\+U\+P\+L\+E$\ast$ \hyperlink{UNIONCELL_8h_a6f5457bd2820312a229bf464f813198d}{merge(list$<$ T\+U\+P\+L\+E$\ast$ $>$$\ast$ tuplelist, uint dominantpipeid)} 함수 형태를 갖는 포인터를 반환한다. 
\end{DoxyReturn}
\hypertarget{classUNIONCELL_a23ad55db09a70ba74f2fcf630def1c3f}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!getinpipelist@{getinpipelist}}
\index{getinpipelist@{getinpipelist}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{getinpipelist}]{\setlength{\rightskip}{0pt plus 5cm}list$<$ {\bf P\+I\+P\+E} $\ast$ $>$ $\ast$ U\+N\+I\+O\+N\+C\+E\+L\+L\+::getinpipelist (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_a23ad55db09a70ba74f2fcf630def1c3f}


cell에 연결된 inpipe list를 반환하는 함수 

cell에 연결된 inpipe list를 반환하는 함수 \begin{DoxyReturn}{Returns}
list$<$\+P\+I\+P\+E$\ast$$>$$\ast$로써, 파이프 리스트 포인터를 반환받는다. 
\end{DoxyReturn}
\hypertarget{classUNIONCELL_a42d955ed8ce559f41bd4837eda14a4ee}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!getpipelock@{getpipelock}}
\index{getpipelock@{getpipelock}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{getpipelock}]{\setlength{\rightskip}{0pt plus 5cm}pthread\+\_\+mutex\+\_\+t $\ast$ U\+N\+I\+O\+N\+C\+E\+L\+L\+::getpipelock (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_a42d955ed8ce559f41bd4837eda14a4ee}


input pipe들의 락을 반환하는 함수 

input pipe들의 락을 반환하는 함수. unioncell은 워커가 두개 이상의 파이프에 접근을 하기 때문에, 관리 리스트등이 atomic operation을 제대로 수행하지 못해 오류가 날 수 있다. 그러므로 락을 걸어 보호한다. \begin{DoxyReturn}{Returns}
pthread\+\_\+mutex\+\_\+t$\ast$ 로써, 락의 포인터를 반환한다. 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000007}{Todo}]pipe락을 없애는 방법이 있으면 없애기 \end{DoxyRefDesc}
\hypertarget{classUNIONCELL_aac0488cf7d003881e4cfa45ce2055e36}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!get\+Union\+Policy@{get\+Union\+Policy}}
\index{get\+Union\+Policy@{get\+Union\+Policy}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{get\+Union\+Policy}]{\setlength{\rightskip}{0pt plus 5cm}uint U\+N\+I\+O\+N\+C\+E\+L\+L\+::get\+Union\+Policy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUNIONCELL_aac0488cf7d003881e4cfa45ce2055e36}


union policy를 받는다. 

union policy를 받는다. P\+O\+L\+I\+C\+Y\+\_\+\+A\+L\+L\+R\+E\+A\+D\+Y, P\+O\+L\+I\+C\+Y\+\_\+\+P\+A\+R\+T\+I\+A\+L\+R\+E\+A\+D\+Y를 반환 \begin{DoxyReturn}{Returns}
P\+O\+L\+I\+C\+Y\+\_\+\+A\+L\+L\+R\+E\+A\+D\+Y(0), P\+O\+L\+I\+C\+Y\+\_\+\+P\+A\+R\+T\+I\+A\+L\+R\+E\+A\+D\+Y(1)를 반환 
\end{DoxyReturn}
\hypertarget{classUNIONCELL_ac57cb2a3f83bf219133a9d942c24f5aa}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!make\+Worker@{make\+Worker}}
\index{make\+Worker@{make\+Worker}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{make\+Worker}]{\setlength{\rightskip}{0pt plus 5cm}void U\+N\+I\+O\+N\+C\+E\+L\+L\+::make\+Worker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classUNIONCELL_ac57cb2a3f83bf219133a9d942c24f5aa}


워커를 만든다. 

워커를 만든다. unioncell 생성자의 count에서 정의된 숫자만큼 합치는 기능을 수행하는 워커를 만든다. cell의 순수 가상 함수를 implementation한다. \begin{DoxyReturn}{Returns}
void 의미 없음 
\end{DoxyReturn}


Implements \hyperlink{classCELL_a1b048e8ac8cc57bcdff18bbcba6ed975}{C\+E\+L\+L}.

\hypertarget{classUNIONCELL_a0179dad91d30e7bca318bb7e3b4a4995}{}\index{U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}!scheduling@{scheduling}}
\index{scheduling@{scheduling}!U\+N\+I\+O\+N\+C\+E\+L\+L@{U\+N\+I\+O\+N\+C\+E\+L\+L}}
\subsubsection[{scheduling}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ U\+N\+I\+O\+N\+C\+E\+L\+L\+::scheduling (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classUNIONCELL_a0179dad91d30e7bca318bb7e3b4a4995}


만든 워커를 실제로 스케줄링 하는 함수 

워커를 실제로 스케줄링 하는 함수이다. cell의 scheduling\+\_\+wrapper에 의해 불린다. while문을 돌면서 iput pipe들을 풀링한다. \begin{DoxyReturn}{Returns}
void 의미 없음 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000002}{Bug}]스케줄링에서 outpipe로 데이터를 넘길 때, pipe에 각각 데이터를 깊은복사를 해서 넘겨주어야 한다. \end{DoxyRefDesc}


Implements \hyperlink{classCELL_adcd2e66700a2c6f0cb234cbe63d2e10c}{C\+E\+L\+L}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{UNIONCELL_8h}{U\+N\+I\+O\+N\+C\+E\+L\+L.\+h}\item 
U\+N\+I\+O\+N\+C\+E\+L\+L.\+cpp\end{DoxyCompactItemize}
